Route.select('distinct name_route, cod_route, st_asgeojson(path) as path').where("st_intersects(path, ST_Buffer(ST_GeomFromText('POINT(#{lat} #{lon})'), 1))").map{|r| {label: "#{r.name_route}", id: "#{r.cod_route}"}}

Route.select('distinct name_route, cod_route, st_asgeojson(path) as path').where("st_intersects(path, ST_Buffer(ST_GeomFromText('POINT(-3.739646,-38.539417)', 1)))")